; bgpred.sx
; background predicate for running Simplify

(PROMPT_OFF)
(BG_PUSH (AND

  ; reading from the same location as was last written
  (FORALL (mem addr value)
    (EQ
      (select (update mem addr value) addr)
      value
    ))

  ; reading from a different location from last written
  (FORALL (mem addr1 addr2 value)     
    (IMPLIES
      (NEQ addr1 addr2)
      (EQ
        (select (update mem addr1 value) addr2)
        (select mem addr2)
      )))

))
